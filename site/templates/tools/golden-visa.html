{% extends "base.html" %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "{% if lang == 'ja' %}ゴールデンビザ診断 — UAE・サウジアラビア{% else %}Golden Visa Eligibility Checker — UAE & Saudi Arabia{% endif %}",
    "description": "{{ description }}",
    "url": "{{ canonical_url }}",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Web"
}
</script>
{% if faq_items %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {% for faq in faq_items %}
        {
            "@type": "Question",
            "name": "{{ faq.q }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ faq.a }}"
            }
        }{% if not loop.last %},{% endif %}
        {% endfor %}
    ]
}
</script>
{% endif %}
{% endblock %}

{% block extra_head %}
<script src="{{ base_path }}js/tools-common.js" defer></script>
<script src="{{ base_path }}js/golden-visa.js" defer></script>
{% endblock %}

{% block content %}
<section class="hero">
    <div class="container">
        <h1>{% if lang == 'ja' %}ゴールデンビザ診断{% elif lang == 'ar' %}تشخيص التأشيرة الذهبية{% else %}Golden Visa Checker{% endif %}</h1>
        <p>{% if lang == 'ja' %}UAE・サウジアラビアの長期滞在ビザ取得可能性を診断{% elif lang == 'ar' %}تحقق من أهليتك للحصول على تأشيرة إقامة طويلة{% else %}Check your eligibility for long-term residence visas in UAE & Saudi Arabia{% endif %}</p>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="tool-layout">
            <div class="tool-form-panel">
                <h2 class="tool-form-title">{% if lang == 'ja' %}あなたの情報{% elif lang == 'ar' %}معلوماتك{% else %}Your Profile{% endif %}</h2>
                <form id="visa-form" class="tool-form" onsubmit="return false;">
                    <div class="tool-field">
                        <label for="visa-assets">{% if lang == 'ja' %}総資産額（万円）{% elif lang == 'ar' %}إجمالي الأصول (万円){% else %}Total Assets (万円 / 10K JPY){% endif %}</label>
                        <input type="number" id="visa-assets" value="5000" min="0" step="1000" class="tool-input">
                    </div>
                    <div class="tool-field">
                        <label for="visa-income">{% if lang == 'ja' %}年収（万円）{% elif lang == 'ar' %}الدخل السنوي (万円){% else %}Annual Income (万円){% endif %}</label>
                        <input type="number" id="visa-income" value="1500" min="0" step="100" class="tool-input">
                    </div>
                    <div class="tool-field">
                        <label for="visa-investment">{% if lang == 'ja' %}投資可能額（万円）{% elif lang == 'ar' %}مبلغ الاستثمار (万円){% else %}Available Investment (万円){% endif %}</label>
                        <input type="number" id="visa-investment" value="3000" min="0" step="500" class="tool-input">
                    </div>
                    <div class="tool-field">
                        <label for="visa-job">{% if lang == 'ja' %}職種{% elif lang == 'ar' %}المهنة{% else %}Occupation{% endif %}</label>
                        <select id="visa-job" class="tool-select">
                            <option value="executive">{% if lang == 'ja' %}経営者・役員{% elif lang == 'ar' %}مدير تنفيذي{% else %}Executive / Director{% endif %}</option>
                            <option value="engineer">{% if lang == 'ja' %}エンジニア・IT{% elif lang == 'ar' %}مهندس{% else %}Engineer / IT{% endif %}</option>
                            <option value="doctor">{% if lang == 'ja' %}医師・医療{% elif lang == 'ar' %}طبيب{% else %}Doctor / Medical{% endif %}</option>
                            <option value="scientist">{% if lang == 'ja' %}研究者・科学者{% elif lang == 'ar' %}عالم / باحث{% else %}Scientist / Researcher{% endif %}</option>
                            <option value="artist">{% if lang == 'ja' %}アーティスト・クリエイター{% elif lang == 'ar' %}فنان{% else %}Artist / Creator{% endif %}</option>
                            <option value="freelance">{% if lang == 'ja' %}フリーランス{% elif lang == 'ar' %}عامل حر{% else %}Freelancer{% endif %}</option>
                            <option value="investor">{% if lang == 'ja' %}投資家{% elif lang == 'ar' %}مستثمر{% else %}Investor{% endif %}</option>
                            <option value="other">{% if lang == 'ja' %}その他{% elif lang == 'ar' %}أخرى{% else %}Other{% endif %}</option>
                        </select>
                    </div>
                    <div class="tool-field">
                        <label for="visa-education">{% if lang == 'ja' %}最終学歴{% elif lang == 'ar' %}المؤهل العلمي{% else %}Education{% endif %}</label>
                        <select id="visa-education" class="tool-select">
                            <option value="phd">{% if lang == 'ja' %}博士号{% elif lang == 'ar' %}دكتوراه{% else %}PhD / Doctorate{% endif %}</option>
                            <option value="masters">{% if lang == 'ja' %}修士号{% elif lang == 'ar' %}ماجستير{% else %}Master's Degree{% endif %}</option>
                            <option value="bachelor" selected>{% if lang == 'ja' %}学士号{% elif lang == 'ar' %}بكالوريوس{% else %}Bachelor's Degree{% endif %}</option>
                            <option value="other">{% if lang == 'ja' %}その他{% elif lang == 'ar' %}أخرى{% else %}Other{% endif %}</option>
                        </select>
                    </div>
                    <button type="button" id="visa-calc-btn" class="tool-btn">{% if lang == 'ja' %}診断する{% elif lang == 'ar' %}ابدأ التشخيص{% else %}Check Eligibility{% endif %}</button>
                </form>
            </div>

            <div class="tool-results-panel" id="visa-results" style="display:none;">
                <h3>{% if lang == 'ja' %}診断結果{% elif lang == 'ar' %}نتائج التشخيص{% else %}Results{% endif %}</h3>
                <div id="visa-list"></div>
            </div>
        </div>
    </div>
</section>

{% if faq_items %}
<section class="section faq-section">
    <div class="container">
        <h2 class="section-title">{% if lang == 'ja' %}よくある質問{% elif lang == 'ar' %}الأسئلة الشائعة{% else %}FAQ{% endif %}</h2>
        <div class="faq-list">
            {% for faq in faq_items %}
            <div class="faq-item">
                <button class="faq-question" aria-expanded="false">
                    {{ faq.q }}
                    <svg class="faq-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
                </button>
                <div class="faq-answer"><p>{{ faq.a }}</p></div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<section class="section">
    <div class="container">
        <div class="tool-disclaimer">
            <p>{% if lang == 'ja' %}※ 本診断は一般的な要件に基づく概算です。実際のビザ取得には追加書類や審査が必要です。最新の要件は各国の公式機関にご確認ください。{% elif lang == 'ar' %}※ هذا التشخيص تقديري. يرجى التحقق من المتطلبات الرسمية.{% else %}※ This diagnosis is based on general requirements. Actual visa approval requires additional documentation and review. Please verify with official authorities.{% endif %}</p>
        </div>
    </div>
</section>
{% endblock %}
